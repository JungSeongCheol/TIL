# 동적 프로그래밍(Dynamic Programing)

탐욕 알고리즘의 예제에서 마트카트 채우기 문제를 다시보면,(숫자는 약간 바꿈)
|물건 |가격|무게|
|------|-------|-------|
|노트북 |150만원 |1kg|
|컴퓨터 |300만원 |4kg|
|TV     |200만원 |3kg|

에서 마트카트의 kg의 한도가 4kg이라고 쳤을때 최대한 비싼 가격을 채우기 위해서는 어떤 물건으로 채워야 될까요?

1. 단순한 방법

가장 단순한 방법은 모든 물건의 조합을 시도 -> 가장 가치가 높은(가격이 가장 큰)경우 선택하는 것 입니다.
그러나, 이방법은 가능은 하지만 너무 느립니다. 물건이 3개면 8개, 물건이 4개면 16, 5개면 32개 ... 즉, 물건이 추가될때마다 경우의 수는 2배가 되므로 알고리즘 실행시간이 O(2^n) 이 되는데, 이것은 너무 느립니다.
물건의 수가 조금만 커도, 현실적으로 푸는게 불가능에 가깝습니다.
그리고 탐욕 알고리즘을 쓰기에는 최적해에 가깝지만, 최적해 자체는 아닐 수 있습니다. 최적해를 구하면서, 좀 더 빠른방법을 알아 보겠습니다.

2. 동적 프로그래밍

동적 프로그래밍은 하위의 작은 문제들을 풀고, 이를 이용해서 더 큰 문제를 풀어나가는 기법이 동적 프로그래밍 입니다.
마트 카트 채우기 문제에서 더 작은 바구니를, 즉 하위 바구니(마트카트 안에 바구니를 넣는 방식으로 이해하면됩니다. 배낭 문제에서는 하위배낭(sub-knapsack) 이라고도 합니다.)
예를 들면 1kg + 3kg = 4kg 이라고 생각하면 됩니다.

동적 프로그래밍 알고리즘은 격자(grid)로부터 시작합니다.

 열은 1kg~4kg까지 바구니의 크기를 말합니다., 행은 선택할 물건을 말합니다.
|--|1kg|2kg|3kg|4kg|
|--|--|--|--|--|
|노트북||||
|컴퓨터||||
|TV||||


가장 가벼운 노트북을 기준으로 한번 짜봅시다.
|--|1kg|2kg|3kg|4kg|
|--|--|--|--|--|
|노트북|150만원|150만원|150만원|150만원|
|컴퓨터|||||
|TV|||||


노트북은 1kg이므로 1칸씩 저장할 수 있습니다.
현재까지의 최선의 답은 노트북이고, 총 가치는 150만원 입니다.

다음번엔 TV를 한번 생각해 보도록 합시다.
|--|1kg|2kg|3kg|4kg|
|--|--|--|--|--|
|노트북|150만원|150만원|150만원|150만원| <- 처음의 답
|TV|150만원|150만원|150만원|300만원| <- 새롭게 구한답
|컴퓨터|||||


마지막 컴퓨터를 생각해 보면
|--|1kg|2kg|3kg|4kg|
|--|--|--|--|--|
|노트북|150만원|150만원|150만원|150만원| <- 처음의 답
|TV|150만원|150만원|150만원|300만원| <- 새롭게 구한답
|컴퓨터|150만원|150만원|200만원|350만원| <-정답

마지막 4번쨰는 300만원 (150만원 + 200만원)이므로 최종답은 350만원입니다.

만약 이와 같은 문제(예시는 물론, 마트카트로 들었지만 보통 배낭 문제라고 불립니다.)를 하는 예시를 좀 더 생각하자면
물건이 추가 됬을때는 동적 프로그래밍의 특징인 점진적으로 답을 수정해 나가는 방법이므로, 행을 추가 하면 됩니다.

|--|1kg|2kg|3kg|4kg|
|--|--|--|--|--|
|노트북|150만원|150만원|150만원|150만원|
|TV|150만원|150만원|150만원|300만원|
|컴퓨터|150만원|150만원|200만원|350만원|
|핸드폰|||||

이런식으로 말입니다. 핸드폰이 1kg에 200만원 이라고 쳤을때

|--|1kg|2kg|3kg|4kg|
|--|--|--|--|--|
|노트북|150만원|150만원|150만원|150만원|
|TV|150만원|150만원|150만원|300만원|
|컴퓨터|150만원|150만원|200만원|350만원|
|핸드폰|200만원|350만원|350만원|400만원|

이렇게 생각해 볼 수 있습니다.(마지막을 예시로 처보면 350만원 vs(200만원 + (3kg)만큼 가격)이므로,
그리고 행, 열의 순서가 바뀐다고 차이는 존재하지 않습니다.(차이가 생기는 경우도 존재 할 수는 있습니다. 다만 이 문제에서는 차이가 생기지 않습니다.)

만약, 0.5kg 의 가격의 물건을 채운다고 하면

|--|0.5kg|1kg|1.5kg|2kg|2.5kg|3kg|3.5kg|4kg|
|--|--|--|--|--|--|--|--|--|
|  |  |  |  |  |  |  |  |  |
위와 같은 표를 이용해서 만들 수 있습니다.

그리고 동적 프로그램은 일부분은 불가능하고, 그것은 탐욕 알고리즘으로 풀어야 됩니다.

예를 들면, 돈에 관계 없이 가장 칼로리가 많이 나가는 음식을 만들어야 되서, 마트를 들려서 재료를 산다고 쳤을때
3가지 음식 1kg 에 500kcal의 과자, 250kcal의 과일, 100kcal의 음료가 있다고 쳐봅시다.
그러면 과자를 가장 많이 넣은다음, 과자가 다떨어지면 과일을 사고 그후 음료를 사면 됩니다. 이런식으로 탐욕 알고리즘을 사용해서 일부분을 구하면 됩니다.

